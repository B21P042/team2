# about AES
オリジナル: [original](https://free.pjc.co.jp/AES/fips-197.pdf)
翻訳: [deepl](https://www.deepl.com/ja/translator)

## 1. はじめに

本規格は，128ビットのデータブロックを128ビット，192ビット，256ビットの長さの暗号鍵で処理できる対称型ブロック暗号であるRijndaelアルゴリズム([3]，[4])を規定する。本規格は、128、192、256ビットの暗号鍵を用いて、128ビットのデータブロックを処理できる対称型ブロック暗号であるRijndaelアルゴリズム([3]、[4])を規定する。
Rijndaelは追加のブロックサイズと鍵長を扱えるように設計されていますが、本規格では採用されていません。本規格では採用していません。
本規格の残りの部分では、ここで規定されているアルゴリズムを「AESアルゴリズム」と呼ぶことにします。このアルゴリズムは、上記の3種類の異なる鍵長で使用することができるため、これらの異なる「フレーバー」は「AES-128」、「AES-192」、「AES-256」と呼ばれます。
本仕様書には、以下のセクションが含まれています。

2. 用語、頭字語、アルゴリズムのパラメータ、記号、機能の定義
3. ビット、バイト、ワードの順序と番号を含む、アルゴリズム仕様で使用される表記法と慣例
4. アルゴリズムを理解する上で有用な数学的特性
5. 鍵の拡張、暗号化、復号化のルーチンを含むアルゴリズムの仕様
6. 鍵長のサポート、キーイングの制限、追加のブロック/鍵/ラウンドサイズなどの実装上の問題

本規格の最後には、「鍵の拡張」と「暗号」のステップバイステップの例、「鍵の拡張」と「暗号」の例 展開と暗号のステップバイステップの例、暗号と逆暗号のベクターの例、参考文献のリストなどが含まれています。

## 2. 定義

### 2.1 用語および頭字語の定義

本規格では、以下の定義を使用しています。

|単語名|意味|
|:--|:--|
|AES|Advanced Encryption Standard|
|Affine Transformation(アフィン変換)|行列の乗算とベクトルの加算で構成される変換|
|Array(配列)|同一のエンティティの列挙されたコレクション<br>例：バイトの配列|
|Bit(ビット)|0または1の値を持つ2進数の数字|
|Block(ブロック)|入力、出力、State、ラウンド鍵を構成する2ビットのシーケンス<br>シーケンスの長さは含まれるビットの数<br>ブロックはバイトの配列としても解釈される|
|Byte(バイト)|8ビットのグループで、単一のエンティティとして、または8つの個別ビットの配列として扱われる|
|Cipher(暗号化)|暗号鍵を用いて平文を暗号文に変換する一連の変換作業|
|Cipher key(暗号鍵)|秘匿された暗号鍵で、Key Expansion ルーチンがラウンド鍵のセットを生成する際に使用される<br>4行Nk列の長方形のバイト配列と考えてよい|
|Ciphertext(暗号文)|暗号機から出力されるデータ、または逆暗号機に入力されるデータ|
|Inverse Cipher(復号化)|暗号鍵を用いて、暗号文を平文に変換する一連の変換作業|
|Key Expantion|暗号鍵から一連のラウンド鍵を生成するためのルーチン|
|Plaintext(平文)|暗号機に入力されるデータ、または復号機から出力されるデータ|
|Rijndael|本AESで規定されている暗号アルゴリズム|
|Round Key(ラウンド鍵)|ラウンド鍵は、鍵拡張ルーチンを用いて暗号鍵から生成される値で、「暗号機」と「復号機」の状態に適用される|
|State|中間暗号の結果は、4行Nb列の長方形のバイト配列として表現される|
|S-box|いくつかのバイト置換変換や、バイト値の1対1置換を行うKey Expansionルーチンで使用される非線形置換テーブル|
|Word|32ビットのグループで、単体または4バイトの配列として扱われる|

### 2.2 アルゴリズムのパラメータ、シンボル、および関数

本規格では、以下のアルゴリズムのパラメータ、シンボル、および関数を使用しています。

|関数・シンボル・パラメータ名|内容|
|:--|:--|
|AddRoundKey()|XOR演算でStateにラウンド鍵を付加する暗号・復号の変換<br>ラウンド鍵の長さはStateのサイズに等しい<br>例：Nb=4の場合、ラウンドキーの長さは128ビット/16バイトとなる|
|InvMixColumns()|MixColumns()の復号化|
|InvShiftRows()|ShiftRows()の復号化|
|InvSubBytes()|SubBytes()の復号化|
|K|暗号鍵|
|MixColumns()|暗号の変換では、「状態」のすべての列を受け取り、それらのデータを（互いに独立して）混ぜ合わせて 状態のすべての列を受け取り、それらのデータを（互いに独立して）混合して 新しい列を生成する|
|Nb|状態を構成する列（32ビットワード）の数<br>本規格ではNb=4とする(6.3も参照)|
|Nk|暗号鍵を構成する 32 ビットワードの数<br>本規格では、Nk=4、6、8としている(6.3も参照)|
|Nr|ラウンド数で、NkとNb（固定）の関数<br>この規格では、Nr＝10、12、14となっている(6.3も参照)|
|Rcon[]|ラウンド定数のワード配列|
|RotWord()|Key Expansion ルーチンで使用される関数で、4バイトのワードを受け取り、巡回置換(cyclic permutation)を実行する|
|ShiftRows()|状態の最後の3行を異なるオフセットで周期的にシフトして状態を処理する暗号の変換機能|
|SubBytes()|Stateの各バイトを独立して処理する非線形バイト置換表（S-box）を用いてStateを処理する暗号の変換処理|
|SubWord()|4バイトの入力ワードを受け取り、4バイトのそれぞれに S-box を適用して出力ワードを生成する Key Expansion ルーチンで使用される関数|
|XOR|排他的論理和(XOR)演算|
|⊕|排他的論理和(XOR)演算|
|⊗|2つの多項式（それぞれの次数が4未満）の乗算<br>modulo x^4+1<br>[クロネッカー積？](https://ja.wikipedia.org/wiki/%E3%82%AF%E3%83%AD%E3%83%8D%E3%83%83%E3%82%AB%E3%83%BC%E7%A9%8D)|
|·|有限フィールドの乗算|

## 3. 表記法と規約

### 3.1 入力と出力

AESアルゴリズムの入力と出力は、それぞれ128ビット（0または1の値を持つ数字）のシーケンスで構成されています。これらのシーケンスは、ブロックと呼ばれることもあり、含まれるビット数は長さと呼ばれます。AESアルゴリズムの暗号鍵は，128，192，256ビットの配列である．本規格では、これ以外の入力、出力、暗号鍵の長さは認められていません。
このようなシーケンス内のビットには、0から始まりシーケンス長（ブロック長または鍵長）よりも1小さい値が付けられます。ビットに付けられた番号iはインデックスと呼ばれ、ブロック長や鍵長に応じて、0 <= i < 128、0 <= i < 192、0 <= i < 256のいずれかの範囲になります。
ブロック長と鍵長に応じて、0＜＝i＜128、0＜＝i＜192、0＜＝i＜256のいずれかの範囲となる。

### 3.2 バイト
AESアルゴリズムの基本的な処理単位は、8ビットを1つのまとまりとして扱う「バイト」です。3.1 節で説明した入力、出力、および暗号鍵のビット列は、これらのビット列を連続する 8 ビットのグループに分割してバイトの配列を形成することで、バイトの配列として処理されます（3.3 節参照）。入力、出力、または暗号鍵が a で示されている場合、結果として得られる配列のバイトは、an または a[n] の 2 つの形式のいずれかで参照されます。

Key length = 128 bits, 0 <= n < 16;<br>
Key length = 192 bits, 0 <= n < 24;<br>
Key length = 256 bits, 0 <= n < 32;<br>
Block length = 128 bits, 0 <= n < 16;


